PROJECT(VLSISAPD)

CMAKE_MINIMUM_REQUIRED(VERSION 2.4.0)

LIST(INSERT CMAKE_MODULE_PATH 0 "${VLSISAPD_SOURCE_DIR}/cmake_modules")

SET(CMAKE_C_FLAGS_DEBUG     "-g -Wall" CACHE STRING "Debug options." FORCE)
SET(CMAKE_CXX_FLAGS_DEBUG   "-g -Wall" CACHE STRING "Debug options." FORCE)
SET(CMAKE_C_FLAGS_RELEASE   "-O3 -DNDEBUG -Wall" CACHE STRING "Release options." FORCE)
SET(CMAKE_CXX_FLAGS_RELEASE "-O3 -DNDEBUG -Wall" CACHE STRING "Release options." FORCE)

FIND_PACKAGE(LibXml2 REQUIRED)
FIND_PACKAGE(PythonSitePackages REQUIRED)

SET(Boost_USE_STATIC_LIBS ON)
MESSAGE(STATUS "Always uses Boost static libraries.")
FIND_PACKAGE(Boost 1.35.0 COMPONENTS program_options filesystem python system)
IF (NOT Boost_FOUND)
  FIND_PACKAGE(Boost 1.32.0 COMPONENTS program_options filesystem python REQUIRED)
ENDIF (NOT Boost_FOUND)

MESSAGE(STATUS "Found Boost.Python ${Boost_LIB_VERSION} libraries in ${Boost_INCLUDE_DIR} as ${Boost_LIBRARIES}.")
FIND_PACKAGE(PythonLibs REQUIRED)

FIND_PACKAGE(Doxygen)

ADD_SUBDIRECTORY(src)
ADD_SUBDIRECTORY(cmake_modules)

IF(BUILD_DOC AND DOXYGEN_FOUND)
  ADD_SUBDIRECTORY(doc)
  ADD_SUBDIRECTORY(examples)
ENDIF(BUILD_DOC AND DOXYGEN_FOUND)
